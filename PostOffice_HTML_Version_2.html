<!DOCTYPE html>
<html lang="en">
<head>
<style>

    .grab {cursor: -webkit-grab; cursor: grab;}
</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box Dimensions</title>
    

</head>
<body style="background-color:rgb(167, 112, 86);">
<p class= "grab" style="color:white;">Put your mouse over me and it will grab</p>

<img src="https://cdn.apartmenttherapy.info/image/upload/f_jpg,q_auto:eco,c_fill,g_auto,w_1500,ar_1:1/cs%2F2022%2FK%2FMcCormick%2Fshutterstock_1536340244" alt="HTML5 Icon" width="430" height="400">

<img src="https://cdn.uanews.arizona.edu/s3fs-public/styles/az_large/public/2024-09/road-1072821_1280.jpg.webp?VersionId=Vtehx0pRpI91RCIFfxXm7dlRyObBDvoS&itok=jYxmVqo" alt="HTML5 Icon" width="480" height="400">
    <form id="boxForm">
        <label style="color:rgb(255, 162, 100); border:5px solid rgb(255, 255, 255);" for="length">Length:</label>
        <input type="number" id="length" name="length" step="0.01"><br><br>

        <label style="color:rgb(255, 162, 100); border:5px solid rgb(255, 255, 255);" for="height">Height:</label>
        <input type="number" id="height" name="height" step="0.01"><br><br>
        
        <label style="color:rgb(255, 162, 100); border:5px solid rgb(255, 255, 255);" for="thickness">Thickness:</label>
        <input type="number" id="thickness" name="thickness" step="0.01"><br><br>
        
        <label style="color:rgb(255, 162, 100); border:5px solid rgb(255, 255, 255);" for="zipFrom">Zip From:</label>
        <input type="number" id="zipFrom" name="zipFrom" step="1"><br><br>
        
        <label style="color:rgb(255, 162, 100); border:5px solid rgb(255, 255, 255); "for="zipTo">Zip To:</label>
        <input type="number" id="zipTo" name="zipTo" step="1"><br><br>
        
        <button type="button" onclick="main()">Submit</button>
    </form>

    <script>
        /**
         * Main function to read in the data from the form
         */
        function main() {
            // Read in the data from the form
            const length = parseFloat(document.getElementById('length').value);
            const height = parseFloat(document.getElementById('height').value);
            const thickness = parseFloat(document.getElementById('thickness').value);
            const zipFrom = parseInt(document.getElementById('zipFrom').value);
            const zipTo = parseInt(document.getElementById('zipTo').value);
            var postType = getType(length, height, thickness);
            var distance = getDistance(zipFrom, zipTo);
            var cost = getCost(postType, distance);
            alert(cost.toFixed(2).toString().replace(/^0+/, ''));
        }

        function getType(length, height, thickness) {
            if (3.5 <= length && length <= 4.25 && 3.5 <= height && height <= 6 && .007 <= thickness && thickness <= .016) {
                return "regular postcard";
            } else if (4.25 <= length && length <= 6 && 6 <= height && height <= 11.5 && .007 <= thickness && thickness <= .015) {
                return "large postcard";
            } else if (3.5 <= length && length <= 6.125 && 5 <= height && height <= 11.5 && .016 <= thickness && thickness <= .259) {
                return "envelope";
            } else if (6.125 <= length && length <= 24 && 11 <= height && height <= 18 && .25 <= thickness && thickness <= .5) {
                return "large envelope";
            } else if (length > 24 || height > 18 || thickness > .5 && length + 2*(height + thickness) <= 84) {
                return "package";
            } else if (length > 24 || height > 18 || thickness > .5 && 84 <= length + 2*(height + thickness) <= 130) {
                return "large package";
            } else {
                return "unmailable";
            }
        }
        /**
         * Function to get zip information
         * @param {number} zip - The zip code
         */
        function getZone(zipcode) {
        if (1 <= zipcode && zipcode <= 6999) {
            return 1;
        } else if (7000 <= zipcode && zipcode <= 19999) {
            return 2;
        } else if (20000 <= zipcode && zipcode <= 35999) {
            return 3;
        } else if (36000 <= zipcode && zipcode <= 62999) {
            return 4;
        } else if (63000 <= zipcode && zipcode <= 84999) {
            return 5;
        } else if (85000 <= zipcode && zipcode <= 99999) {
            return 6;
        } else {   
            return -1;
        }
    }
 
    function getDistance(zipFrom, zipTo) {
        startzone = getZone(zipFrom);
        endzone = getZone(zipTo);

        if (startzone == -1 || endzone == -1) {
            return 'Unmailable';
        }
        return Math.abs(endzone - startzone);
    }

    function getCost(post_type, distance) {
        if (post_type == "unmailable" || distance == 'Unmailable') {
            return 'Unmailable';
        } else if (post_type == "regular postcard") {
            return .20 + .03*distance;
        } else if (post_type == "large postcard") {
            return .37 + .03*distance;
        } else if (post_type == "envelope") {
            return .37 + .04*distance;
        } else if (post_type == "large envelope") {
            return .60 + .05*distance;
        } else if (post_type == "package") {
            return 2.95 + .25*distance;
        } else if (post_type == "large package") {
            return  3.95 + .35*distance;  
        }
    }
    </script>
</body>
</html>